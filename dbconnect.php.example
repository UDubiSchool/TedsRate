<?php
// ============================== authentication ===============================
//session_start();
//session_regenerate_id();
//if(!isset($_SESSION['user_email']))      // if there is no valid session
//{
//    header("Location: index.php?notice=login_first");
//}
// ============================== authentication ===============================
// require_once "loadENV.php";

// $host = getenv("DATABASE_HOST");
// $port = getenv("DATABASE_PORT");
// $name = getenv("DATABASE_NAME");
// $user = getenv("DATABASE_USER");
// $password = getenv("DATABASE_PASSWORD");

function db_connect (){
    // $dbh = new PDO('mysql:host=tedseval.ovid.u.washington.edu;port=52436;dbname=artifactRating', 'root', 'sunfl0w3r', array( // original remote server
     //$dbh = new PDO("mysql:host=localhost;port=3306;dbname=artifactRating2", "root", '335ne53rd', array( // 'sunfl0w3r',
     // $dbh = new PDO("mysql:host=$host;port=$port;dbname=$name", $user, $password, array( // 'sunfl0w3r',
   $dbh = new PDO('mysql:host=tedsrate.ovid.u.washington.edu;port=3306;dbname=tedsrate', 'root', 'dongh3d3long', array( // new remote server
      PDO::MYSQL_ATTR_USE_BUFFERED_QUERY => true,
      PDO::ATTR_PERSISTENT => true
   ));
   $dbh->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
   $dbh->setAttribute (PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

    return ($dbh);
}
?>